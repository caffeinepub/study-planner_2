{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-08T15:57:38.715Z",
  "summary": "Diff adds a per-view (Daily/Weekly) localStorage-backed subject filter hook with synchronous initialization, and introduces a new SubjectFilterDropdown component that includes an in-dropdown search input and appears to support per-subject counts via provided props. However, the diff summary is truncated, so some REQ-2 specifics (exact label formatting and per-mode count computation wiring in StudyPlannerPage) cannot be fully verified from the provided evidence.",
  "missing_requirements": [
    {
      "id": "REQ-2",
      "requirement": "Render each subject option with a count in the label formatted exactly like: `Math (5)`, with counts reflecting the currently active mode (Daily or Weekly).",
      "reason": "SubjectFilterDropdown accepts `subjectCounts` and looks up counts, but the truncated diff does not show the actual option label string rendering (e.g., `Subject (count)`) nor the StudyPlannerPage logic that computes `subjectCounts` from tasks for the active view.",
      "evidence": [
        "frontend/src/components/studyPlanner/SubjectFilterDropdown.tsx (truncated)",
        "frontend/src/pages/StudyPlannerPage.tsx (truncated)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Adds an empty-search-results message (`No subjects found`) inside the dropdown.",
      "reason": "REQ-2 requests in-dropdown search and per-subject task counts but does not request a dedicated empty state message.",
      "evidence": [
        "frontend/src/components/studyPlanner/SubjectFilterDropdown.tsx"
      ]
    }
  ],
  "confidence": 0.6,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/components/studyPlanner/SubjectFilterDropdown.tsx",
    "frontend/src/hooks/useStudyPlannerSubjectFilter.ts",
    "frontend/src/pages/StudyPlannerPage.tsx",
    "project_state.json"
  ]
}